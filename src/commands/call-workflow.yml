description: >
  This command echos "Hello World" using file inclusion.
# What will this command do?
# Descriptions should be short, simple, and clear.
parameters:
  org-or-username:
    type: string
    description: ""
  repo:
    type: string
    description: ""
  token:
    type: env_var_name
    default: CIRCLE_API_TOKEN

steps:
  - run:
      name: trigger workflow
      command: |
        curl --request POST \
        --url https://circleci.com/api/v2/project/github/<< parameters.org-or-username >>/<< parameters.repo >>/pipeline \
        --header "Circle-Token: ${PERSONAL_API_TOKEN}" \
        --header "content-type: application/json" \
        --data '{ "branch": "'${CIRCLE_BRANCH}'", "parameters": { "'${CIRCLE_BRANCH}'-'${WORKFLOW}'": true } }'